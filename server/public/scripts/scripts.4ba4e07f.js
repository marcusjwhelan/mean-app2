"use strict";angular.module("clientApp",["ngRoute","restangular"]).config(["$routeProvider","RestangularProvider",function(a,b){b.setBaseUrl("https://mean-app2-marcusjwhelan.c9users.io:8081"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/movies",{templateUrl:"views/movies.html",controller:"MoviesCtrl"}).when("/create/movie",{templateUrl:"views/movie-add.html",controller:"MovieAddCtrl",controllerAs:"movieAdd"}).when("/movie/:id",{templateUrl:"views/movie-view.html",controller:"MovieViewCtrl",controllerAs:"movieView"}).when("/movie/:id/delete",{templateUrl:"views/movie-delete.html",controller:"MovieDeleteCtrl",controllerAs:"movieDelete"}).when("/movie/:id/edit",{templateUrl:"views/movie-edit.html",controller:"MovieEditCtrl",controllerAs:"movieEdit"}).when("/movie/:id/edit",{templateUrl:"views/movie-edit.html",controller:"MovieEditCtrl",controllerAs:"movieEdit"}).otherwise({redirectTo:"/"})}]).factory("MovieRestangular",["Restangular",function(a){return a.withConfig(function(a){a.setRestangularFields({id:"_id"})})}]).factory("Movie",["MovieRestangular",function(a){return a.service("movie")}]).directive("youtube",function(){return{restrict:"E",scope:{src:"="},templateUrl:"views/youtube.html"}}).filter("trusted",["$sce",function(a){return function(b){return b?a.trustAsResourceUrl(b.replace("watch?v=","embed/")):void 0}}]),angular.module("clientApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clientApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clientApp").controller("MoviesCtrl",["$scope","Movie",function(a,b){a.movies=b.getList().$object}]),angular.module("clientApp").controller("MovieAddCtrl",["$scope","Movie","$location",function(a,b,c){a.movie={},a.saveMovie=function(){b.post(a.movie).then(function(){c.path("/movies")})}}]),angular.module("clientApp").controller("MovieViewCtrl",["$scope","$routeParams","Movie",function(a,b,c){a.viewMovie=!0,a.movie=c.one(b.id).get().$object}]),angular.module("clientApp").controller("MovieDeleteCtrl",["$scope","$routeParams","Movie","$location",function(a,b,c,d){a.movie=c.one(b.id).get().$object,a.deleteMovie=function(){a.movie.remove().then(function(){d.path("/movies")})},a.back=function(){d.path("/movie/"+b.id)}}]),angular.module("clientApp").controller("MovieEditCtrl",["$scope","$routeParams","Movie","$location",function(a,b,c,d){a.editMovie=!0,a.movie={},c.one(b.id).get().then(function(c){a.movie=c,a.saveMovie=function(){a.movie.save().then(function(){d.path("/movie/"+b.id)})}})}]),angular.module("clientApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/movie-add.html",'<!--bootstrap form\n    ng-model assigns value of input to scope varible movie.title.\n    ng-click uses callback function svaeMovie() to call function\n        in the controller associated with this file.\n--> <form role="form"> <div class="form-group"> <label for="title" class="control-label">Title</label> <input type="test" ng-model="movie.title" class="form-control" id="title" placeholder="Enter the movie title"> </div> <div class="form-group"> <label for="title" class="control-label">URL</label> <input type="text" ng-model="movie.url" class="form-control" id="title" placeholder="Enter the YouTube URL"> </div> <input type="submit" class="btn btn-primary" ng-click="saveMovie()" value="Save"> </form>'),a.put("views/movie-delete.html",'<form role="form"> <p>Are you sure you wish to delete the movie {{ movie.title }}?</p> <div class="form-group"> <input type="submit" class="btn btn-danger" ng-click="deleteMovie()" value="Yes"> <button ng-click="back()" type="button" class="btn btn-default">No</button> </div> </form>'),a.put("views/movie-edit.html","<!-- because create and edit are kind of the same\n so the view will look the same.--> <ng-include src=\"'views/movie-nav.html'\"></ng-include> <ng-include src=\"'views/movie-add.html'\"></ng-include>"),a.put("views/movie-nav.html",'<!--tabs to put above the move and edit page--> <ul class="nav nav-tabs"> <!-- scope varialb ein view controller viewMovie = true\n    this sayd essenctiall add class active if viewMovie is true\n    so if true assign active.--> <li role="presentation" ng-class="{active: viewMovie}"> <!--ng-href makes it able to use {{}} for model inject--> <a ng-href="/#/movie/{{ movie._id }}">View</a> </li> <li role="presentation" ng-class="{active: editMovie}"> <a ng-href="/#/movie/{{ movie._id }}/edit">Edit</a> </li> </ul>'),a.put("views/movie-view.html",'<ng-include src="\'views/movie-nav.html\'"></ng-include> <h3>{{ movie.title }}</h3> <youtube src="movie.url"></youtube>'),a.put("views/movies.html",'<!--button at top to create new movie--> <a class="btn btn-primary" href="/#/create/movie"> <span class="glyphicon glyphicon-plus"></span> Create Movie </a> <br> <!-------------------- added--------------------> <table class="table table-striped"> <thead> <th>Title</th> <th>URL</th> <th>Operations</th> </thead> <tbody> <tr ng-repeat="movie in movies"> <td><!--makes it a link V--> <a ng-href="/#/movie/{{ movie._id }}">{{ movie.title }}</a> </td> <td>{{ movie.url }}</td> <td><!-- button group for edit and delete.--> <div class="button-group"> <a ng-href="/#/movie/{{ movie._id }}/edit" class="btn btn-default"> <span class="glyphicon glyphicon-edit"></span> </a> <a ng-href="/#/movie/{{ movie._id }}/delete" class="btn btn-danger"> <span class="glyphicon glyphicon-remove-circle"></span> </a> </div> </td> </tr> </tbody> </table>'),a.put("views/youtube.html",'<!--added directive for loading youtube video on page--><!-- this is s bootstrap embed --> <div class="embed-responsive embed-responsive-16by9"> <iframe class="embed-responsive-item" ng-src="{{ src | trusted }}"></iframe> </div>')}]);